<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Reproducción IPTV</title>
    <style>
body {
    background: teal;
}
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #lista-reproduccion {
            flex: 0 0 30%; /* Establece el ancho de la lista de reproducción */
            padding: 20px;
            overflow-y: auto; /* Habilita el desplazamiento vertical */
            height: 90vh;
            max-height: 95%; /* Establece la altura máxima de la lista */
        }

        #reproductor-container {
            flex: 1; /* El reproductor tomará todo el espacio disponible */
            padding: 20px;
        }

        h1 {
            text-align: center;
        }

        ul {
            list-style-type: none;
            padding: 0;
            margin: 0; /* Elimina el margen predeterminado de la lista */
        }

        li {
            background-color: #f2f2f2;
            border-radius: 10px;
            margin-bottom: 5px;
        }

        li a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #333;
        }

        li a:hover {
            background-color: #ddd;
        }

        .selected {
            background-color: blue;
            color: white;
        }


/* Estilo para el scrollbar */
#lista-reproduccion::-webkit-scrollbar {
    width: 10px; /* Ancho del scrollbar */
}

/* Estilo para el fondo del scrollbar */
#lista-reproduccion::-webkit-scrollbar-track {
    background: #000000;; /* Color de fondo */
}

/* Estilo para el thumb (la parte deslizable del scrollbar) */
#lista-reproduccion::-webkit-scrollbar-thumb {
    background: #ff0303; /* Color del thumb */
    border-radius: 5px; /* Borde redondeado */
}

/* Estilo para el thumb cuando se pasa el cursor por encima */
#lista-reproduccion::-webkit-scrollbar-thumb:hover {
    background: #31ff03; /* Color del thumb al pasar el cursor por encima */
}










/* Estilos para pantallas medianas (tabletas) */
@media screen and (max-width: 420px) {
#lista-reproduccion {
    position: absolute;
    top: 32%;
    flex: 0 0 30%;
    padding: 20px;
    width: 80%;
    overflow-y: auto;
    height: 90vh;
    max-height: 60%;
}
}

/* Estilos para pantallas grandes (computadoras de escritorio) */
@media screen and (min-width: 780px) {

#lista-reproduccion {
    flex: 0 0 30%;
    padding: 20px;
    overflow-y: auto;
    height: 90vh;
    max-height: 73%;
}
}

    </style>
</head>
<body>
<div class="listareproduccion">
    <div id="lista-reproduccion">
        <h1>Lista  IPTV</h1>
        <ul>

<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch340/playlist.m3u8">  ABC NEWS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch548/playlist.m3u8">  AFIZZIONADOS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch529/playlist.m3u8">  ANIMADO 2	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch514/playlist.m3u8">  ANIMADOS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch500/playlist.m3u8">  ANIME	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch351/playlist.m3u8">  ANTENA 3	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch570/playlist.m3u8">  AZCORAZON	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch550/playlist.m3u8">  BABY FIRST	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch555/playlist.m3u8">  BITME	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch316/playlist.m3u8">  BRAVO	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch350/playlist.m3u8">  CARACOL	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch545/playlist.m3u8">  CARTOONITO	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch325/playlist.m3u8">  CBS SPORTS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch318/playlist.m3u8">  CNN	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch521/playlist.m3u8">  COOKING	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch526/playlist.m3u8">  DISCOVERY FAMILY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch524/playlist.m3u8">  DISCOVERY H&H	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch352/playlist.m3u8">  DISCOVERY H&H	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch525/playlist.m3u8">  DISCOVERY ID	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch527/playlist.m3u8">  DISCOVERY TLC	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch556/playlist.m3u8">  DISCOVERY TURBO	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch308/playlist.m3u8">  E	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch319/playlist.m3u8">  ESPN	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch542/playlist.m3u8">  ESPN 2	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch329/playlist.m3u8">  ESPN 2	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch320/playlist.m3u8">  ESPN 3	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch311/playlist.m3u8">  ESPN DEPORTES	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch313/playlist.m3u8">  ESPN USA	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch301/playlist.m3u8">  FOX DEPORTES	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch312/playlist.m3u8">  FOX NEWS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch338/playlist.m3u8">  FOX SPORTS 3	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch505/playlist.m3u8">  FX	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch523/playlist.m3u8">  FXX	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch323/playlist.m3u8">  GHTV	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch511/playlist.m3u8">  GOLDEN PLUS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch335/playlist.m3u8">  GOLF	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch317/playlist.m3u8">  HALLMARK	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch515/playlist.m3u8">  HBO FAMILY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch530/playlist.m3u8">  HBO FAMILY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch516/playlist.m3u8">  HBO PLUS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch517/playlist.m3u8">  HBO SIGNATURE	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch349/playlist.m3u8">  HISTORY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch565/playlist.m3u8">  ION	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch519/playlist.m3u8">  MAS CHIC	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch336/playlist.m3u8">  MLB	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch314/playlist.m3u8">  MOVIES	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch502/playlist.m3u8">  MOVIES 2	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch503/playlist.m3u8">  MOVIES 3	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch531/playlist.m3u8">  MOVIES 4	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch533/playlist.m3u8">  MOVIES 5	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch574/playlist.m3u8">  MOVIES 6	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch509/playlist.m3u8">  NATGEO	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch508/playlist.m3u8">  NATGEO WILD	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch310/playlist.m3u8">  NBA TV	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch331/playlist.m3u8">  NBC SPORTS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch332/playlist.m3u8">  NFL	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch512/playlist.m3u8">  NICK	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch513/playlist.m3u8">  NICK TOONS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch324/playlist.m3u8">  OUTDOOR	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch560/playlist.m3u8">  OXYGEN	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch506/playlist.m3u8">  SONY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch330/playlist.m3u8">  T	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch334/playlist.m3u8">  TBS	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch337/playlist.m3u8">  TNT	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch520/playlist.m3u8">  TNT SERIES	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch302/playlist.m3u8">  TUDN	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch328/playlist.m3u8">  UNIVISION	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch341/playlist.m3u8">  USA	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch528/playlist.m3u8">  VELOCITY	</a></li>
<li><a href="#" data-url="http://livex.pop-app.live/s4n/poplive/ch562/playlist.m3u8">  WIN SPORTS+	</a></li>

        </ul>
    </div>
</div>

    <div id="reproductor-container">
        <div id="reproductor"></div>
    </div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
    var videoUrl;
    var retryTimeout; // Variable para almacenar el identificador del temporizador

    function reproducirVideo(elemento, url) {
        var listaEnlaces = document.querySelectorAll('li a');
        listaEnlaces.forEach(function(enlace) {
            enlace.parentNode.classList.remove('selected');
        });
        elemento.parentNode.classList.add('selected');

        videoUrl = url;
        cargarVideo();
    }

    function cargarVideo() {
        var iframe = document.createElement("iframe");
        iframe.setAttribute("src", "reproductor.html?url=" + encodeURIComponent(videoUrl));
        iframe.setAttribute("width", "100%");
        iframe.setAttribute("height", "400");
        iframe.setAttribute("frameborder", "0");
        document.getElementById("reproductor").innerHTML = "";
        document.getElementById("reproductor").appendChild(iframe);

        // Reinicia la reproducción si se detiene
        iframe.contentWindow.document.querySelector('video').addEventListener('ended', function() {
            retryTimeout = setTimeout(function() {
                reproducirVideo(document.querySelector('li a[href="' + videoUrl + '"]'), videoUrl);
            }, 5000); // Espera 5 segundos antes de intentar reproducir de nuevo
        });
    }

    window.onload = function() {
        var enlaces = document.querySelectorAll('#lista-reproduccion li a');
        enlaces.forEach(function(enlace) {
            enlace.addEventListener('click', function(event) {
                event.preventDefault();
                if (retryTimeout) {
                    clearTimeout(retryTimeout); // Cancela el temporizador si el usuario hace clic manualmente
                }
                reproducirVideo(this, this.getAttribute('data-url'));
            });
        });
    };
</script>

</body>
</html>
